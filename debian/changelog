debswarm (0.5.5-1) unstable; urgency=medium

  * Security: Add HTTP security headers to dashboard and metrics endpoints
    - X-Content-Type-Options, X-Frame-Options, Cache-Control, X-XSS-Protection
    - Content-Security-Policy for dashboard
  * Security: Add response size limit (500MB) to mirror fetcher
    - Prevents memory exhaustion from malicious/misconfigured mirrors
  * Refactor: Extract SSRF validation to shared internal/security package
  * Cleanup: Remove redundant min() function (use Go 1.21+ built-in)

 -- debswarm developers <debswarm@example.com>  Sat, 14 Dec 2025 00:00:00 +0000

debswarm (0.5.3-1) unstable; urgency=high

  * Security: Fix SSRF vulnerability in index URL fetching
    - Block requests to localhost, cloud metadata services, private networks
    - Validate URLs match Debian/Ubuntu repository patterns
  * Security: Fix information disclosure in dashboard error messages
  * Security: Add documentation for metrics endpoint exposure risks
  * Add test coverage for SSRF URL validation

 -- debswarm developers <debswarm@example.com>  Sat, 14 Dec 2025 00:00:00 +0000

debswarm (0.5.2-1) unstable; urgency=medium

  * Update libp2p to v0.46.0
  * Update go-sqlite3 to v1.14.32
  * Fix debian cross-compilation for arm64
  * Make version dynamic in debian/rules

 -- debswarm developers <debswarm@example.com>  Sat, 14 Dec 2025 00:00:00 +0000

debswarm (0.5.1-1) unstable; urgency=medium

  * Update libp2p to v0.45.0 and kad-dht to v0.36.0
  * Update cobra to v1.10.2
  * Fix identity key loading for libp2p compatibility
  * Update GoReleaser config to v2
  * CI now uses Go 1.24.6

 -- debswarm developers <debswarm@example.com>  Sat, 14 Dec 2025 00:00:00 +0000

debswarm (0.5.0-1) unstable; urgency=medium

  * Fix race condition in cache reader tracking (TOCTOU bug)
  * Fix goroutine leak on chunk download failure
  * Fix blacklist flag inconsistency after expiration
  * Fix stream deadline error handling in P2P transfers
  * Improve error context in download retry loops
  * Add context propagation to rate limiter for proper cancellation
  * Add proper goroutine cleanup in announcement worker
  * Add benchmark command with simulated peers for performance testing

 -- debswarm developers <debswarm@example.com>  Sat, 14 Dec 2024 00:00:00 +0000

debswarm (0.4.0-1) unstable; urgency=medium

  * Multi-repository support with proper isolation
  * Auto-indexing of Packages files when APT fetches them
  * Persistent identity (stable peer IDs across restarts)
  * Identity CLI commands (show, regenerate)
  * Remote monitoring (--metrics-bind flag)
  * Request coalescing for concurrent downloads
  * O(1) basename index for faster lookups
  * Security: SSRF mitigation, metrics server hardening, CSS injection fix

 -- debswarm developers <debswarm@example.com>  Fri, 13 Dec 2024 00:00:00 +0000

debswarm (0.3.0-1) unstable; urgency=medium

  * Bandwidth limiting (--max-upload-rate, --max-download-rate)
  * Web dashboard at /dashboard
  * Private swarms (PSK) support
  * Peer allowlist
  * PSK management CLI (generate, show)
  * Mirror sync mode for seed import

 -- debswarm developers <debswarm@example.com>  Fri, 13 Dec 2024 00:00:00 +0000

debswarm (0.2.6-1) unstable; urgency=medium

  * Add seed command to import .deb files and announce to DHT
  * Update documentation for seeding feature

 -- debswarm developers <debswarm@example.com>  Fri, 13 Dec 2024 00:00:00 +0000

debswarm (0.2.5-1) unstable; urgency=medium

  * Initial release.
  * Features:
    - Transparent APT HTTP proxy integration
    - P2P package distribution via libp2p/Kademlia DHT
    - Parallel chunked downloads from multiple peers
    - Adaptive timeouts based on network conditions
    - Peer scoring for optimal peer selection
    - QUIC transport preference for NAT traversal
    - Prometheus metrics endpoint
    - Content-addressed cache with SQLite metadata
    - mDNS local network discovery
    - SHA256 verification of all P2P downloads
    - Automatic mirror fallback

 -- debswarm developers <debswarm@example.com>  Thu, 12 Dec 2024 00:00:00 +0000
